# Smart Notification System
## Software Requirements Specification (SRS)

**Version: 2.0**  
**Date: June 23, 2025**  
**Status: Updated to reflect current implementation**

---

## 1. Introduction

### 1.1 Purpose
‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Smart Notification System ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ PHP Laravel ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ ‡πÇ‡∏î‡∏¢‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á

### 1.2 Scope
‡∏£‡∏∞‡∏ö‡∏ö Smart Notification ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö LDAP ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ **‡∏û‡∏£‡πâ‡∏≠‡∏° Fallback Authentication**
- ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô Microsoft Teams ‡πÅ‡∏•‡∏∞ Email
- ‡πÉ‡∏ä‡πâ RabbitMQ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô PostgreSQL
- **‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏ö‡∏ö Role-Based Access Control (RBAC)**
- **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Template ‡πÅ‡∏ö‡∏ö Dynamic Variables**
- **‡∏£‡∏∞‡∏ö‡∏ö Password Reset ‡πÅ‡∏•‡∏∞ User Management ‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô**
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Log ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1.3 Definitions and Acronyms
- **LDAP**: Lightweight Directory Access Protocol
- **RBAC**: Role-Based Access Control
- **MQ**: Message Queue (RabbitMQ)
- **API**: Application Programming Interface
- **JWT**: JSON Web Token
- **CRUD**: Create, Read, Update, Delete
- **SPA**: Single Page Application

### 1.4 References
- Laravel Framework Documentation (v10+)
- Spatie Laravel Permission Package
- RabbitMQ Documentation
- Microsoft Graph API Documentation
- PostgreSQL Documentation

---

## 2. Overall Description

### 2.1 Product Perspective
‡∏£‡∏∞‡∏ö‡∏ö Smart Notification ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö:

- ‡∏£‡∏∞‡∏ö‡∏ö LDAP ‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ (‡∏û‡∏£‡πâ‡∏≠‡∏° Fallback ‡∏£‡∏∞‡∏ö‡∏ö)
- Microsoft Teams
- Email Server (SMTP/IMAP)
- RabbitMQ Message Broker
- PostgreSQL Database
- **Spatie Permission Package ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RBAC**

### 2.2 Product Functions

**Core Functions:**
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ú‡πà‡∏≤‡∏ô **Hybrid Authentication** (LDAP + Fallback)
- **‡∏£‡∏∞‡∏ö‡∏ö Role-Based Access Control** ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- **Template Management ‡∏û‡∏£‡πâ‡∏≠‡∏° Dynamic Variables**
- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á
- **API Gateway ‡∏û‡∏£‡πâ‡∏≠‡∏° Rate Limiting**
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys ‡πÅ‡∏•‡∏∞ Authentication
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- **‡∏£‡∏∞‡∏ö‡∏ö Password Reset ‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô**
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 2.3 User Classes

- **System Administrator**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö, ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ, ‡πÅ‡∏•‡∏∞ permissions
- **Notification Manager**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- **End User**: ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
- **IT Support**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- **API Consumer**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô API Gateway
- **API Administrator**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á
- **Template Designer**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç notification templates

### 2.4 Operating Environment

- **Server**: Linux/Windows Server
- **Web Server**: Apache/Nginx
- **Database**: PostgreSQL 13+
- **Message Queue**: RabbitMQ 3.8+
- **PHP**: PHP 8.1+ with Laravel 10+
- **Frontend**: Laravel Blade Templates + Bootstrap/Tailwind CSS
- **Authentication**: LDAP + Database Fallback

### 2.5 Constraints

- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ LDAP ‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ Authentication ‡∏´‡∏•‡∏±‡∏Å
- **Fallback Authentication ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ LDAP ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡∏≤‡∏° API Limits
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° PDPA
- **Permission system ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° Principle of Least Privilege**

---

## 3. Specific Requirements

### 3.1 Functional Requirements

#### 3.1.1 Enhanced User Authentication and Management

**FR-01: Hybrid LDAP Authentication**
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö LDAP Server ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Login ‡∏ú‡πà‡∏≤‡∏ô LDAP credentials
- **Automatic fallback ‡πÑ‡∏õ‡∏¢‡∏±‡∏á database authentication ‡πÄ‡∏°‡∏∑‡πà‡∏≠ LDAP ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**
- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å LDAP (‡∏ä‡∏∑‡πà‡∏≠, ‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡πÅ‡∏ú‡∏ô‡∏Å, ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á)
- **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å auth_source ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£ authentication**

**FR-02: Advanced User Profile Management**
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≤‡∏Å LDAP ‡∏´‡∏£‡∏∑‡∏≠ Database
- ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Preference ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- **‡∏£‡∏∞‡∏ö‡∏ö Soft Delete ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö user records**
- **Password reset functionality ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö non-LDAP users**

**FR-03: Role-Based Access Control (RBAC)**
- **‡πÉ‡∏ä‡πâ Spatie Permission Package**
- **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Roles ‡πÅ‡∏•‡∏∞ Permissions ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î**
- **Permission categories (User Management, Notification Management, etc.)**
- **Team-based permissions (optional)**
- **Model-specific permissions**

#### 3.1.2 Enhanced Notification Management

**FR-04: Advanced Template Creation**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Rich Text ‡πÅ‡∏•‡∏∞ Markdown
- **Dynamic Variables ‡∏û‡∏£‡πâ‡∏≠‡∏° default values**
- **Template preview ‡∏û‡∏£‡πâ‡∏≠‡∏° sample data**
- **Template versioning ‡πÅ‡∏•‡∏∞ history**

**FR-05: Enhanced Notification Scheduling**
- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (‡∏ó‡∏±‡∏ô‡∏ó‡∏µ, ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤, ‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏ß‡∏î)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Cron Expression ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Time Zone
- **Priority levels (low, normal, high, urgent)**
- **Notification status tracking (draft, scheduled, queued, processing, sent, failed, cancelled)**

**FR-06: Advanced Recipient Management**
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å LDAP (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•, ‡∏Å‡∏•‡∏∏‡πà‡∏°, ‡πÅ‡∏ú‡∏ô‡∏Å)
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
- **Recipient validation ‡πÅ‡∏•‡∏∞ verification**

#### 3.1.3 Message Delivery

**FR-07: Microsoft Teams Integration**
- ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á Teams Channel
- ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÉ‡∏ô Teams
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Adaptive Cards
- **Error handling ‡πÅ‡∏•‡∏∞ retry mechanism**

**FR-08: Email Notification**
- ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡πà‡∏≤‡∏ô SMTP
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö HTML ‡πÅ‡∏•‡∏∞ Plain Text
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Attachment
- **Email template customization**

**FR-09: Enhanced Message Queue Processing**
- ‡πÉ‡∏ä‡πâ RabbitMQ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Retry Mechanism
- Priority Queue ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô
- **Failed job handling ‡πÅ‡∏•‡∏∞ monitoring**

#### 3.1.4 API Gateway Management

**FR-10: Advanced API Key Management**
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å
- **Permission-based API access control**
- **Rate limiting per API key**
- Expire Date ‡πÅ‡∏•‡∏∞ Auto-renewal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API Keys
- Revoke API Keys ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- **API usage tracking ‡πÅ‡∏•‡∏∞ analytics**

**FR-11: Comprehensive External API Endpoints**
- API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å
- API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á
- API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å LDAP
- API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- **API documentation endpoint**
- **Health check endpoints**

**FR-12: Advanced API Rate Limiting**
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ API ‡∏ï‡πà‡∏≠ API Key
- ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ Rate Limit ‡∏ï‡∏≤‡∏° API Key Level
- Throttling ‡πÅ‡∏•‡∏∞ Queue ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Request ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î
- **Per-endpoint rate limiting**
- **Rate limit headers ‡πÉ‡∏ô response**

#### 3.1.5 Enhanced System Features

**FR-13: Comprehensive Delivery Status Tracking**
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (Pending, Sent, Delivered, Failed)
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
- Notification History
- API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Query ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å
- **Real-time status updates**

**FR-14: Advanced System Logging**
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å User Activities
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å System Errors ‡πÅ‡∏•‡∏∞ Exceptions
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å API Usage ‡πÅ‡∏•‡∏∞ API Key Activities
- **Activity log ‡∏î‡πâ‡∏ß‡∏¢ Spatie Laravel Activitylog**

**FR-15: Enhanced Reporting and Analytics**
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- Dashboard ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Real-time
- Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô PDF/Excel
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° API Key
- API Usage Analytics ‡πÅ‡∏•‡∏∞ Performance Metrics
- **Filter ‡πÅ‡∏•‡∏∞ search capabilities**

---

## 4. Data Requirements

### 4.1 Enhanced Database Schema

#### 4.1.1 Core Tables (Updated)

**Users Table (Enhanced)**
```sql
- id: bigint (primary key)
- ldap_guid: string (nullable, unique)
- username: string (unique)
- email: string (unique)
- first_name: string
- last_name: string
- display_name: string
- department: string (nullable)
- title: string (nullable)
- phone: string (nullable)
- is_active: boolean (default: true)
- password: string (nullable, hashed)
- last_login_at: timestamp (nullable)
- ldap_synced_at: timestamp (nullable)
- auth_source: string (nullable) // 'ldap', 'fallback'
- deleted_at: timestamp (nullable) // Soft Delete
- created_at: timestamp
- updated_at: timestamp
```

**Permission System Tables (New)**
```sql
- permissions: Enhanced with display_name, description, category
- roles: Enhanced with description, level, permissions_count
- model_has_permissions: Junction table
- model_has_roles: Junction table  
- role_has_permissions: Junction table
```

**Notification Templates (Enhanced)**
```sql
- id: bigint (primary key)
- name: string
- description: text (nullable)
- subject: string
- html: text (nullable)
- text: text (nullable)
- variables: json (nullable) // Default variable values
- is_active: boolean (default: true)
- created_by: bigint (foreign key to users)
- created_at: timestamp
- updated_at: timestamp
```

**Notifications (Enhanced)**
```sql
- id: bigint (primary key)
- uuid: string (unique)
- template_id: bigint (nullable, foreign key)
- title: string
- content: text
- channels: json // ['teams', 'email']
- priority: enum ('low', 'normal', 'high', 'urgent')
- status: enum ('draft', 'scheduled', 'queued', 'processing', 'sent', 'failed', 'cancelled')
- recipients: json
- scheduled_at: timestamp (nullable)
- sent_at: timestamp (nullable)
- data: json (nullable) // Template variables
- created_by: bigint (foreign key to users)
- created_at: timestamp
- updated_at: timestamp
```

#### 4.1.2 API Management Tables (New)

**API Keys**
```sql
- id: bigint (primary key)
- name: string
- key: string (unique, encrypted)
- permissions: json (nullable)
- rate_limit_per_minute: integer (default: 60)
- allowed_ips: json (nullable)
- expires_at: timestamp (nullable)
- last_used_at: timestamp (nullable)
- is_active: boolean (default: true)
- created_by: bigint (foreign key to users)
- created_at: timestamp
- updated_at: timestamp
```

**API Usage Logs**
```sql
- id: bigint (primary key)
- api_key_id: bigint (foreign key)
- endpoint: string
- method: string
- ip_address: string
- user_agent: text (nullable)
- request_data: json (nullable, sanitized)
- response_data: json (nullable, sanitized)
- response_code: integer
- response_time: float
- created_at: timestamp
```

#### 4.1.3 System Tables (New)

**Cache Tables**
```sql
- cache: Laravel cache table
- cache_locks: Laravel cache locks
```

**Failed Jobs**
```sql
- failed_jobs: Laravel failed jobs table
```

### 4.2 Data Retention Policy (Updated)

- **Notification Logs**: ‡πÄ‡∏Å‡πá‡∏ö 1 ‡∏õ‡∏µ
- **Activity Logs**: ‡πÄ‡∏Å‡πá‡∏ö 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô  
- **System Logs**: ‡πÄ‡∏Å‡πá‡∏ö 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **API Usage Logs**: ‡πÄ‡∏Å‡πá‡∏ö 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **Failed Jobs**: ‡πÄ‡∏Å‡πá‡∏ö 1 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **Cache**: TTL ‡∏ï‡∏≤‡∏° configuration

---

## 5. User Interface Requirements (Updated)

### 5.1 Enhanced Web Interface

- **Responsive Design** ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Desktop ‡πÅ‡∏•‡∏∞ Mobile
- **Modern UI Framework** (Bootstrap 5 + Custom CSS)
- **Dashboard** ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö Real-time
- **Form Builder** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Notification Template ‡∏û‡∏£‡πâ‡∏≠‡∏° Preview
- **Role-based UI** ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

### 5.2 Key Screens (Updated)

1. **Login Page**: Hybrid LDAP + Fallback Authentication
2. **Dashboard**: ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥, ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î, ‡πÅ‡∏•‡∏∞ system health
3. **User Management**: 
   - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ LDAP ‡πÅ‡∏•‡∏∞ Manual
   - Password reset functionality
   - Role assignment interface
4. **Permission Management**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ roles ‡πÅ‡∏•‡∏∞ permissions
5. **Notification Management**: 
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç notifications
   - Template management ‡∏û‡∏£‡πâ‡∏≠‡∏° variable system
   - Status tracking interface
6. **API Key Management**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys ‡∏û‡∏£‡πâ‡∏≠‡∏° analytics
7. **Reports**: ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
8. **System Logs**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö activity logs ‡πÅ‡∏•‡∏∞ system logs
9. **Settings**: ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞ preferences

---

## 6. External Interface Requirements (Updated)

### 6.1 LDAP Integration (Enhanced)
- **Protocol**: LDAP v3
- **Authentication**: Bind Authentication
- **Fallback Mechanism**: Automatic database authentication
- **Data Sync**: ‡∏ó‡∏∏‡∏Å 6 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏´‡∏£‡∏∑‡∏≠ on-demand
- **Attributes**: cn, mail, department, title
- **Connection Pooling**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö performance

### 6.2 Microsoft Teams API
- **Protocol**: Microsoft Graph API
- **Authentication**: OAuth 2.0
- **Permissions**: ChannelMessage.Send, Chat.ReadWrite
- **Rate Limits**: 300 requests per minute
- **Error Handling**: Retry mechanism ‡∏û‡∏£‡πâ‡∏≠‡∏° exponential backoff

### 6.3 Email Integration (Enhanced)
- **Protocol**: SMTP/IMAP
- **Security**: TLS/SSL (required)
- **Authentication**: Username/Password ‡∏´‡∏£‡∏∑‡∏≠ OAuth
- **Template Support**: HTML ‡πÅ‡∏•‡∏∞ Plain Text
- **Attachment Support**: File uploads

### 6.4 RabbitMQ Configuration (Enhanced)
- **Exchange Type**: Topic Exchange
- **Queue Durability**: Persistent
- **Message TTL**: 24 hours
- **Dead Letter Queue**: Enabled
- **Priority Queues**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô
- **Clustering**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö high availability

---

## 7. Non-Functional Requirements (Updated)

### 7.1 Performance Requirements

**NFR-01: Response Time**
- ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏Ç‡∏≠‡∏á Web Interface ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Log ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- **API response time ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ**

**NFR-02: Throughput**
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 1,000 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 100 ‡∏Ñ‡∏ô (Web Interface)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö API Calls 5,000 requests ‡∏ï‡πà‡∏≠‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏î‡πâ 10,000 jobs ‡∏ï‡πà‡∏≠‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

### 7.2 Security Requirements (Enhanced)

**NFR-03: Authentication and Authorization**
- **Hybrid LDAP + Database Authentication**
- **Role-Based Access Control (RBAC)**
- API Key Authentication ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö External Systems
- JWT Token ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Session Management (Web Interface)
- Session Timeout 8 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- **Permission-based API access control**
- **Rate limiting per API key**

**NFR-04: Data Security (Enhanced)**
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô Database
- ‡πÉ‡∏ä‡πâ HTTPS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ (required)
- Audit Trail ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ API Keys ‡πÉ‡∏ô Database
- **Password hashing ‡∏î‡πâ‡∏ß‡∏¢ bcrypt**
- **Sensitive data sanitization ‡πÉ‡∏ô logs**

### 7.3 Reliability Requirements

**NFR-05: Availability**
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 99.5% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤
- Downtime ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Maintenance ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **Graceful degradation ‡πÄ‡∏°‡∏∑‡πà‡∏≠ LDAP ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**

**NFR-06: Fault Tolerance (Enhanced)**
- Auto-retry ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
- Graceful Degradation ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- Database Connection Pooling
- **Failed job monitoring ‡πÅ‡∏•‡∏∞ alerting**

### 7.4 Scalability Requirements

**NFR-07: Horizontal Scaling**
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Worker Process ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Queue
- Database Connection Scaling
- Load Balancing Ready
- **Stateless application design**

---

## 8. Implementation Status & Timeline (Updated)

### 8.1 Completed Features ‚úÖ

**Phase 1 (Completed)**
- ‚úÖ Laravel Framework Setup
- ‚úÖ LDAP Integration ‡∏û‡∏£‡πâ‡∏≠‡∏° Fallback Authentication  
- ‚úÖ Basic Authentication System
- ‚úÖ User Model ‡∏û‡∏£‡πâ‡∏≠‡∏° Soft Delete

**Phase 2 (Completed)**
- ‚úÖ Enhanced Database Schema
- ‚úÖ Permission System (Spatie Package)
- ‚úÖ User Management System
- ‚úÖ Password Reset Functionality

**Phase 3 (In Progress)**
- ‚úÖ Notification Templates System
- ‚úÖ API Gateway ‡∏û‡∏£‡πâ‡∏≠‡∏° Rate Limiting
- ‚úÖ API Key Management
- üîÑ Microsoft Teams Integration (In Progress)
- üîÑ Email Integration (In Progress)

### 8.2 Remaining Timeline

**Phase 4 (3 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)**
- RabbitMQ Integration
- Notification Queue Processing
- Template Variable Processing
- Delivery Status Tracking

**Phase 5 (2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)**
- Advanced Reporting System
- Dashboard Analytics
- Performance Optimization
- Final Testing ‡πÅ‡∏•‡∏∞ Bug Fixes

**Phase 6 (1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)**
- Documentation Update
- Deployment Preparation
- Security Audit

---

## 9. Quality Assurance (Updated)

### 9.1 Testing Requirements

- **Unit Testing**: Coverage 80%+ (‡πÉ‡∏ä‡πâ PHPUnit)
- **Feature Testing**: Laravel Feature Tests
- **Integration Testing**: API ‡πÅ‡∏•‡∏∞ Database
- **Security Testing**: Penetration Testing
- **Performance Testing**: Load testing ‡∏û‡∏£‡πâ‡∏≠‡∏° 1,000 concurrent users

### 9.2 Acceptance Criteria (Updated)

- ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à 99% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô LDAP ‡∏´‡∏£‡∏∑‡∏≠ Fallback ‡πÑ‡∏î‡πâ
- ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö Real-time
- **Permission system ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 100%**
- **API rate limiting ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î**

---

## 10. Risk Assessment (Updated)

### 10.1 Technical Risks

- **LDAP Connection Issues**: ‚úÖ ‡∏°‡∏µ Fallback Authentication ‡πÅ‡∏•‡πâ‡∏ß
- **External API Rate Limits**: ‚úÖ ‡∏°‡∏µ Queue ‡πÅ‡∏•‡∏∞ Retry Logic
- **Database Performance**: ‡∏ï‡πâ‡∏≠‡∏á Indexing ‡πÅ‡∏•‡∏∞ Query Optimization
- **Permission Complexity**: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ thorough testing

### 10.2 Operational Risks

- **Server Downtime**: ‡∏ï‡πâ‡∏≠‡∏á High Availability Setup
- **Data Loss**: ‡∏ï‡πâ‡∏≠‡∏á Regular Backup ‡πÅ‡∏•‡∏∞ Disaster Recovery  
- **Security Breach**: ‡∏ï‡πâ‡∏≠‡∏á Regular Security Audit
- **User Permission Misconfiguration**: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ audit trail

---

## 11. Appendices (Updated)

### 11.1 API Endpoints (Current Implementation)

**Authentication APIs**
- `POST /api/auth/login` - LDAP Authentication (Web Interface)
- `POST /api/auth/validate-key` - Validate API Key

**External APIs (v1)**
- `POST /api/v1/notifications/send` - Send notification
- `POST /api/v1/notifications/bulk` - Send bulk notifications  
- `GET /api/v1/notifications/{id}/status` - Check status
- `GET /api/v1/health` - Health check
- `GET /api/v1/docs` - API documentation

**Web Interface APIs**
- `GET /api/notifications` - List notifications
- `POST /api/notifications` - Create notification
- `GET /api/reports/*` - Various reports
- `GET /api/admin/api-keys` - API key management

### 11.2 Environment Variables (Updated)

**Database**
- `DB_CONNECTION=pgsql`
- `DB_HOST`, `DB_PORT`, `DB_DATABASE`, `DB_USERNAME`, `DB_PASSWORD`

**LDAP Configuration**
- `LDAP_HOST`, `LDAP_PORT`, `LDAP_BASE_DN`
- `LDAP_USERNAME`, `LDAP_PASSWORD`

**External Services**
- `RABBITMQ_HOST`, `RABBITMQ_PORT`, `RABBITMQ_USERNAME`, `RABBITMQ_PASSWORD`
- `TEAMS_CLIENT_ID`, `TEAMS_CLIENT_SECRET`
- `MAIL_HOST`, `MAIL_PORT`, `MAIL_USERNAME`, `MAIL_PASSWORD`

**Security**
- `JWT_SECRET`
- `API_RATE_LIMIT=60`
- `API_KEY_EXPIRE_DAYS=365`

---

## 12. Change Log

### Version 2.0 (June 23, 2025)
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï SRS ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Hybrid Authentication (LDAP + Fallback)
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Permission System ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Database Schema ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö Migration files
- ‡πÄ‡∏û‡∏¥‡πà‡∏° API Management features
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI Requirements ‡∏ï‡∏≤‡∏° current implementation
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Implementation Status tracking

### Version 1.0 (May 29, 2025)
- SRS ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏£‡∏Å (Original Specification)

---

*‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ SRS Version 2.0*